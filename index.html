<!DOCTYPE html>
<html lang="en" class="h-100">
  <head>
    <title>CS Calculator (2.0) | Light and Health Research Center</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="device-width, initial-scale=1" />
    <meta
      name="description"
      content="Calculate the circadian effectiveness of a light source using the Light and Health Research Center's CS Calculator 2.0"
    />

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BQBGGGSH1E"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-BQBGGGSH1E');
    </script>

    <!-- Favicon Stuff -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#01aeef" />
    <meta name="msapplication-TileColor" content="#00aba9" />
    <meta name="theme-color" content="#ffffff" />

    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.css"
    />
    <script src="https://unpkg.com/mathjs/lib/browser/math.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.3/Chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="js/animation.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/generalFunctions.js"></script>
    <script src="js/lightMetricFunctions.js"></script>
    <script src="js/userFunctions.js"></script>
    <link rel="stylesheet" href="css/css.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700&display=swap"
    />
  </head>
  <body>
    <div
      class="modal fade"
      id="helpModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="helpModal-label"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-xl">
        <div class="modal-content help-menu-content">
          <div class="container-fluid px-0 m-0">
            <div class="row">
              <div class="col-md-3">
                <ul class="help-menu-list">
                  <li
                    data-value="sources"
                    class="help-menu-list-item pointer active"
                  >
                    <h4 class="help-menu-list-title">Sources</h4>
                  </li>
                  <li
                    data-value="calculations"
                    class="help-menu-list-item pointer"
                  >
                    <h4 class="help-menu-list-title">Calculations</h4>
                  </li>
                </ul>
              </div>
              <div class="col-md-9">
                <div class="help-section" id="help-sources">
                  <div class="modal-header">
                    <h4 class="modal-title" id="helpModal-label">
                      Source
                    </h4>
                    <button type="button" class="close" data-dismiss="modal">
                      &times;
                    </button>
                  </div>
                  <div class="modal-body help-body">
                    <h3 class="font-size-1_25 text-uppercase font-weight-bold">
                      Source List Filters
                    </h3>
                    <p class="font-size-1_3">
                      The Source List Filters allow you to filter the Source List. Select from the dropdown menus and/or use the keyword search bar to access the sources that are currently loaded in the calculator. Sources meeting the selected criteria will appear under the Sources heading. Press the Reset Filters button to clear any filters.
                    </p>
                    <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Source List Filters"
                        src="img/help/1.png"
                        class="w-55 my-4 rounded drop-shadow"
                      />
                    </figure>

                    <h3 class="font-size-1_25 text-uppercase font-weight-bold">
                      Source List
                    </h3>
                    <p class="font-size-1_3">
                      Click on a source to view additional information and have
                      the opportunity to add the source to the calculation area.
                      When the page is first loaded, all preloaded sources will
                      be listed.
                    </p>
                    <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Source List"
                        src="img/help/2.png"
                        class="w-55 my-4 rounded drop-shadow"
                      />
                    </figure>
                    <div class="help-menu-btn-menu">
                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="ms-purple fas fa-plus"></i> Add Custom Source</h5>
                      <p>The add custom source button will open a modal which will alow you to add a custom source. Fill in the required fields and click the Add Source button to confirm. Your source will appear in the Source List and automatically be add to Selected Sources. </p>
                      <figure class="w-95 text-center mobile-figure">
                        <img
                          alt="Add Custom Source"
                          src="img/help/3.png"
                          class="w-55 my-4 rounded drop-shadow"
                        />
                      </figure>

                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="ms-purple fas fa-upload"></i> Download Custom Sources as JSON</h5>
                      <p>The download custom sources feature will allow you to download as .json all custom, user generated sources that you've added to the CS Calculator 2.0. Custom sources won't save on page refresh, so this way you can maintain your custom sources.</p>
                      <figure class="w-95 text-center mobile-figure">
                        <img
                          alt="Download Sources from JSON"
                          src="img/help/11.png"
                          class="w-55 my-4 rounded drop-shadow"
                        />
                      </figure>

                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="ms-purple fas fa-upload"></i> Upload Custom Sources as JSON</h5>
                      <p>The upload custom sources feature will allow you to upload custom sources that you've previously downloaded from the CS Calculator 2.0. Select as many .json files as you'd like, each containing any number of sources. Note that sources with duplicate ID's will be ignored.</p>
                      <figure class="w-95 text-center mobile-figure">
                        <img
                          alt="Upload Sources from JSON"
                          src="img/help/12.png"
                          class="w-55 my-4 rounded drop-shadow"
                        />
                      </figure>
                    </div>
                    
                    <h3 class="font-size-1_25 text-uppercase font-weight-bold">
                      Selected Sources
                    </h3>
                    <p class="font-size-1_3">
                      Once a source is added it will appear in the Selected Sources tab.
                    </p>
                    <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Selected Sources"
                        src="img/help/4.png"
                        class="w-65 my-4 rounded drop-shadow"
                      />
                    </figure>
                    <div class="help-menu-btn-menu">
                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="ms-purple fas fa-info-circle"></i> Source Info</h5>
                      <p>The Source Info button will display the same source information available when selecting sources.</p>

                      <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Source Info"
                        src="img/help/13.png"
                        class="w-55 my-4 rounded drop-shadow"
                      />
                    </figure>

                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="text-red fas fa-times"></i> Remove Source</h5>
                      <p>The Remove Source button will remove that source from the Selected Sources list.</p>
                    </div>
                  </div>
                </div>
                <div class="help-section d-none" id="help-calculations">
                  <div class="modal-header">
                    <h4 class="modal-title">Calculations</h4>
                    <button type="button" class="close" data-dismiss="modal">
                      &times;
                    </button>
                  </div>
                  <div class="modal-body help-body">
                    <div class="help-menu-btn-menu">
                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="ms-purple fas fa-download"></i> Download All Calculations as JSON</h5>
                      <p>
                        The Download All Calculations as JSON button will prompt a JSON file download which contains all the data of the current calculation, including each of the sources, their SPD's, their vertical illuminance, the combined output metrics, the chart data, and more. This file can be used for further programmatic purposes.
                      </p>
                      <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Download All Calculations as JSON"
                        src="img/help/16.png"
                        class="w-65 my-4 rounded drop-shadow"
                      />
                    </figure>
                    </div>
                    <h3 class="font-size-1_25 text-uppercase font-weight-bold">
                      Selected Sources
                    </h3>
                    <p class="font-size-1_3">
                      This Selected Sources Table is a duplicate of the one in
                      the Sources page, only this one will allow you to change
                      the vertical illuminance of the source. Once a source is
                      added to the Selected Sources list it will appear
                      here. Click the graph icon to display information about
                      that source. Click the trash icon to remove that source
                      from the Selected Sources list. Click inside the
                      input field to change the vertical illuminance.
                    </p>
                    <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Selected Sources"
                        src="img/help/5.png"
                        class="w-65 my-4 rounded drop-shadow"
                      />
                    </figure>
                    <div class="help-menu-btn-menu">
                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="ms-purple fas fa-info-circle"></i> Source Info</h5>
                      <p>The Source Info button will display the same source information available when selecting sources.</p>

                      <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Source Info"
                        src="img/help/13.png"
                        class="w-55 my-4 rounded drop-shadow"
                      />
                    </figure>

                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="text-red fas fa-times"></i> Remove Source</h5>
                      <p>The Remove Source button will remove that source from the Selected Sources list.</p>
                    </div>
                    <h3 class="font-size-1_25 text-uppercase font-weight-bold">
                      Input Variables
                    </h3>
                    <p class="font-size-1_3">
                      Input variables are listed by name and current setting.
                      All variables are set to their default values on page load. Click on the value
                      to change it.
                    </p>
                    <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Input Variables"
                        src="img/help/6.png"
                        class="w-65 my-4 rounded drop-shadow"
                      />
                    </figure>
                    <div class="help-menu-btn-menu">
                      <h5 class="font-size-1 font-weight-bold">Duration of Exposure (hrs)</h5>
                      <p>Exposure duration of the continuous light pulse in hours, ranging from 0.5 h to 3.0 h.</p>

                      <h5 class="font-size-1 font-weight-bold">Distribution Scalar</h5>
                      <p>A discrete variable characterizing the spatial distribution of the light source used in the calculations, ranging from 0.5 for an overhead light source to 2.0 for a full-field ganzfeld source.</p>
                    </div>

                    <h3 class="font-size-1_25 text-uppercase font-weight-bold">
                      Metrics
                    </h3>
                    <p class="font-size-1_3">
                      This table shows the output measurements calculated for
                      the selected sources and their corresponding value. The
                      output measurements are shown on the left, and the values
                      are shown on the right.
                    </p>
                    <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Light Metrics"
                        src="img/help/8.png"
                        class="w-65 my-4 rounded drop-shadow"
                      />
                    </figure>
                    <div class="help-menu-btn-menu">
                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="ms-purple fas fa-download"></i> Download Metrics as Text</h5>
                      <p>The Download Metrics as Text button allows you to download a plain .txt file containing all of the output metrics. The content of this file is easily pastable into something like Microsoft Excel.</p>
                      <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Download Metrics as Text"
                        src="img/help/14.png"
                        class="w-65 my-4 rounded drop-shadow"
                      />
                    </figure>

                      <h5 class="font-size-1 font-weight-bold">Circadian Stimulus (CS)</h5>
                      <p>The calculated effectiveness of the spectrally weighted irradiance at the
                      cornea from threshold (CS = 0.1) to saturation (CS = 0.7),
                      assuming a fixed duration of exposure of 1 hour.</p>

                      <h5 class="font-size-1 font-weight-bold">Circadian Light (CL<sub>A</sub>)</h5>
                      <p>The irradiance
                      at the cornea weighted to reflect the spectral sensitivity
                      of the human circadian system as measured by acute
                      melatonin suppression after a 1-hour exposure.</p>

                      <h5 class="font-size-1 font-weight-bold">Illuminance (lx)</h5>
                      <p>The amount of light (luminous
                      flux) incident on a surface area. Illuminance is measured
                      in footcandles (lumens/square foot) or lux (lx,
                      lumens/square meter). One footcandle equals 10.76 lx,
                      although for convenience 10 lx commonly is used as the
                      equivalent.</p>

                      <h5 class="font-size-1 font-weight-bold">Irradiance (W·m<sup>-2</sup>)</h5>
                      <p>The irradiance of a surface
                      per unit frequency or wavelength, depending on whether the
                      spectrum is taken as a function of frequency or of
                      wavelength. The two forms have different dimensions:
                      spectral irradiance of a frequency spectrum is measured in
                      watts per square metre per hertz (W·m<sup>−2</sup>·Hz<sup>−1</sup>), while
                      spectral irradiance of a wavelength spectrum is measured
                      in watts per square metre per metre (W·m<sup>−3</sup>), or more
                      commonly watts per square metre per nanometre
                      (W·m<sup>−2</sup>·nm<sup>−1</sup>).</p>

                      <h5 class="font-size-1 font-weight-bold">Photon Flux (Photons·m<sup>-2</sup>·s<sup>-1</sup>)</h5>
                      <p>Defined as the
                      number of photons per second per unit area.</p>

                      <h5 class="font-size-1 font-weight-bold">Correlated Color Temperature (CCT, Tcp)</h5>
                      <p>A
                      specification for white light sources used to describe the
                      dominant color tone along the dimension from warm (yellows
                      and reds) to cool (blue). Lamps with a CCT rating below
                      3200 K are usually considered warm sources, whereas those
                      with a CCT above 4000 K usually considered cool in
                      appearance. Temperatures in between are considered neutral
                      in appearance. Technically, CCT extends the practice of
                      using temperature, in kelvins (K), for specifying the
                      spectrum of light sources other than blackbody radiators.
                      Incandescent lamps and daylight closely approximate the
                      spectra of black body radiators at different temperatures
                      and can be designated by the corresponding temperature of
                      a blackbody radiator. The spectra of fluorescent and LED
                      sources, however, differ substantially from black body
                      radiators yet they can have a color appearance similar to
                      a blackbody radiator of a particular temperature as given
                      by CCT.</p>

                      <h5 class="font-size-1 font-weight-bold">Color Rendering Index (CRI)</h5>
                      <p>A rating index
                      commonly used to represent how well a light source renders
                      the colors of objects that it illuminates. For a CRI value
                      of 100, the maximum value, the colors of objects can be
                      expected to be seen as they would appear under an
                      incandescent or daylight spectrum of the same correlated
                      color temperature (CCT). Sources with CRI values less than
                      50 are generally regarded as rendering colors poorly, that
                      is, colors may appear unnatural.</p>

                      <h5 class="font-size-1 font-weight-bold">Gamut Area Index (GAI)</h5>
                      <p>A measure of color
                      rendering based upon volume in color space. It is the
                      range of colors achievable on a given color reproduction
                      medium (or present in an image on that medium) under a
                      given set of viewing conditions.</p>

                      <h5 class="font-size-1 font-weight-bold">Chromaticity (x,y)</h5>
                      <p>The dominant or complementary
                      wavelength and purity aspects of the color taken together,
                      or of the aspects specified by the chromaticity
                      coordinates of the color taken together. It describes the
                      properties of light related to hue and saturation, but not
                      luminance (brightness).</p>

                      <h5 class="font-size-1 font-weight-bold">CIE &alpha;-opic Irradiances</h5>
                      <p>Effective photobiological irradiance with the spectral irradiance, spectrally weighted with the α-opic action spectrum</p>
                    </div>
                    
                    <h3 class="font-size-1_25 text-uppercase font-weight-bold">
                      Combined Source SPD's
                    </h3>
                    <p class="font-size-1_3">
                      View the wavelength and spectral power values for the combined relative and absolute spectral
                      power distributions.
                    </p>
                    <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Combined Source SPD's"
                        src="img/help/9.png"
                        class="w-55 my-4 rounded drop-shadow"
                      />
                    </figure>

                    <div class="help-menu-btn-menu">
                      <h5 class="font-size-1 text-uppercase font-weight-bold"><i class="ms-purple fas fa-download"></i> Download Combined SPD's as Text</h5>
                      <p>The Download Combined SPD's as Text button allows you to download a plain .txt file containing either the relative or absolute combined source SPD. The content of this file is easily pastable into something like Microsoft Excel.</p>
                      <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Combined Source SPD's"
                        src="img/help/15.png"
                        class="w-55 my-4 rounded drop-shadow"
                      />
                    </figure>
                    </div>

                    <h3 class="font-size-1_25 text-uppercase font-weight-bold">
                      Charts
                    </h3>
                    <p class="font-size-1_3">
                      The charts display information about the combined
                      attributes of light sources that have been selected. Both
                      the graphs and the associated legends will be modified
                      automatically as new sources are added and illuminance
                      values are adjusted. Click the buttons to toggle between
                      the Spectral Power Distribution, Chromaticity, and Color
                      Rendering Metrics plots.
                    </p>
                    <figure class="w-95 text-center mobile-figure">
                      <img
                        alt="Charts"
                        src="img/help/10.png"
                        class="w-85 my-4 rounded drop-shadow"
                      />
                    </figure>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal"
      id="custom-source-modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="custom-source-modal-label"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="custom-source-modal-label">
              Add Custom Source
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form autocomplete="off">
              <div class="form-group">
                <label for="userID">*Source Name</label>
                <input
                  type="text"
                  class="
                    form-control
                    custom-form-control
                    userSortSource
                    userEnter
                  "
                  id="userID"
                  placeholder="Custom Source"
                />
              </div>
              <div class="form-row">
                <div class="col-sm-4 col-xs-12">
                  <div class="form-group">
                    <label for="userMan">Manufacturer</label>
                    <input
                      type="text"
                      class="
                        form-control
                        custom-form-control
                        userSortSource
                        userEnter
                      "
                      id="userMan"
                      placeholder="GE"
                    />
                  </div>
                </div>
                <div class="col-sm-4 col-xs-12">
                  <div class="form-group">
                    <label for="userCCT">CCT/Color</label>
                    <div class="input-group">
                      <input
                        type="text"
                        class="
                          form-control
                          custom-form-control
                          userSortSource
                          userEnter
                        "
                        id="userCCT"
                        placeholder="6500 K"
                      />
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label for="userLamp">Lamp Type</label>
                    <input
                      type="text"
                      class="
                        form-control
                        custom-form-control
                        userSortSource
                        userEnter
                      "
                      id="userLamp"
                      placeholder="Daylight"
                    />
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="userDesc">Description</label>
                <textarea
                  class="form-control custom-form-control"
                  id="userDesc"
                  rows="2"
                  placeholder="My Custom Source"
                ></textarea>
              </div>

              <div id="userSPDTogetherContainer">
                <div class="form-group">
                  <div class="position-relative">
                    <div class="btn-menu">
                      <button
                        class="btn btn-link btn-menu-btn"
                        type="button"
                        data-toggle="tooltip"
                        title="Toggle SPD Input Type"
                      >
                        <i
                          class="change-spd-input-type fas fa-lg fa-toggle-off"
                        ></i>
                      </button>
                    </div>
                    <label for="userSPDTogether">*SPD</label>
                  </div>

                  <textarea
                    class="form-control custom-form-control"
                    id="userSPDTogether"
                    rows="5"
                    placeholder="380&#9;0.0020065&#10;382&#9;0.0016818&#10;384&#9;0.001013&#10;386&#9;0.00054935&#10;388&#9;0.00027727"
                  ></textarea>
                  <small class="form-text text-muted">*required</small>
                  <div class="editCustomSourceError"></div>
                </div>
              </div>

              <div id="userSPDSeperateContainer" class="d-none">
                <div class="form-row">
                  <div class="col-sm-6 col-xs-12">
                    <div class="form-group">
                      <label for="userSPDWavelengths">*λ</label>
                      <textarea
                        class="form-control custom-form-control"
                        id="userSPDWavelengths"
                        rows="5"
                        placeholder="380&#10;382&#10;384&#10;386&#10;388"
                      ></textarea>
                      <small class="form-text text-muted">*required</small>
                      <div class="addCustomSourceError"></div>
                    </div>
                  </div>
                  <div class="col-sm-6 col-xs-12">
                    <div class="form-group">
                      <div class="position-relative">
                        <div class="btn-menu">
                          <button
                            class="btn btn-link btn-menu-btn"
                            type="button"
                            data-toggle="tooltip"
                            title="Toggle SPD Input Type"
                          >
                            <i
                              class="
                                change-spd-input-type
                                fas
                                fa-lg fa-toggle-off
                              "
                            ></i>
                          </button>
                        </div>
                        <label for="userSPDValues">*Values</label>
                      </div>
                      <textarea
                        class="form-control custom-form-control"
                        id="userSPDValues"
                        rows="5"
                        placeholder="0.0020065&#10;0.0016818&#10;0.001013&#10;0.00054935&#10;0.00027727"
                      ></textarea>
                    </div>
                  </div>
                </div>
              </div>

              <button
                id="userSourceSubmit"
                class="btn btn-ms disabled w-100"
                type="button"
                data-dismiss="modal"
                aria-label="Close"
                onclick="submitUserSource()"
              >
                Add Source
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal"
      id="edit-custom-source-modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="edit-custom-source-modal-label"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="edit-custom-source-modal-label">
              Edit Custom Source
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form autocomplete="off">
              <div class="form-group">
                <label for="edit-userID">*Source Name</label>
                <input
                  type="text"
                  class="
                    form-control
                    custom-form-control
                    userSortSource
                    userEnter
                  "
                  id="edit-userID"
                  placeholder="Custom Source"
                />
              </div>
              <div class="form-row">
                <div class="col-sm-4 col-xs-12">
                  <div class="form-group">
                    <label for="edit-userMan">Manufacturer</label>
                    <input
                      type="text"
                      class="
                        form-control
                        custom-form-control
                        userSortSource
                        userEnter
                      "
                      id="edit-userMan"
                      placeholder="GE"
                    />
                  </div>
                </div>
                <div class="col-sm-4 col-xs-12">
                  <div class="form-group">
                    <label for="edit-userCCT">CCT/Color</label>
                    <div class="input-group">
                      <input
                        type="text"
                        class="
                          form-control
                          custom-form-control
                          userSortSource
                          userEnter
                        "
                        id="edit-userCCT"
                        placeholder="6500"
                      />
                      <div class="input-group-append">
                        <span
                          class="
                            input-group-text
                            custom-input-group-text
                            d-block
                          "
                          >K</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label for="edit-userLamp">Lamp Type</label>
                    <input
                      type="text"
                      class="
                        form-control
                        custom-form-control
                        userSortSource
                        userEnter
                      "
                      id="edit-userLamp"
                      placeholder="Daylight"
                    />
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="edit-userDesc">Description</label>
                <textarea
                  class="form-control custom-form-control"
                  id="edit-userDesc"
                  rows="2"
                  placeholder="My Custom Source"
                ></textarea>
              </div>

              <div id="edit-userSPDTogetherContainer">
                <div class="form-group">
                  <div class="position-relative">
                    <div class="btn-menu">
                      <button
                        class="btn btn-link btn-menu-btn"
                        type="button"
                        data-toggle="tooltip"
                        title="Toggle SPD Input Type"
                      >
                        <i
                          class="
                            edit-change-spd-input-type
                            fas
                            fa-lg fa-toggle-off
                          "
                        ></i>
                      </button>
                    </div>
                    <label for="edit-userSPDTogether">*SPD</label>
                  </div>

                  <textarea
                    class="form-control custom-form-control"
                    id="edit-userSPDTogether"
                    rows="5"
                    placeholder="380&#9;0.0020065&#10;382&#9;0.0016818&#10;384&#9;0.001013&#10;386&#9;0.00054935&#10;388&#9;0.00027727"
                  ></textarea>
                  <small class="form-text text-muted">*required</small>
                  <div class="edit-addCustomSourceError"></div>
                </div>
              </div>

              <div id="edit-userSPDSeperateContainer" class="d-none">
                <div class="form-row">
                  <div class="col-sm-6 col-xs-12">
                    <div class="form-group">
                      <label for="edit-userSPDWavelengths">*λ</label>
                      <textarea
                        class="form-control custom-form-control"
                        id="edit-userSPDWavelengths"
                        rows="5"
                        placeholder="380&#10;382&#10;384&#10;386&#10;388"
                      ></textarea>
                      <small class="form-text text-muted">*required</small>
                      <div class="addCustomSourceError"></div>
                    </div>
                  </div>
                  <div class="col-sm-6 col-xs-12">
                    <div class="form-group">
                      <div class="position-relative">
                        <div class="btn-menu">
                          <button
                            class="btn btn-link btn-menu-btn"
                            type="button"
                            data-toggle="tooltip"
                            title="Toggle SPD Input Type"
                          >
                            <i
                              class="
                                edit-change-spd-input-type
                                fas
                                fa-lg fa-toggle-off
                              "
                            ></i>
                          </button>
                        </div>
                        <label for="edit-userSPDValues">*Values</label>
                      </div>
                      <textarea
                        class="form-control custom-form-control"
                        id="edit-userSPDValues"
                        rows="5"
                        placeholder="0.0020065&#10;0.0016818&#10;0.001013&#10;0.00054935&#10;0.00027727"
                      ></textarea>
                    </div>
                  </div>
                </div>
              </div>

              <button
                id="edit-userSourceSubmit"
                class="btn btn-ms disabled w-100"
                type="button"
                data-dismiss="modal"
                aria-label="Close"
                onclick="editUserSource(this)"
              >
                Edit Source
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal"
      id="source-modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="source-modal-label"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="source-modal-label">Source Title</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p class="m-0">
              <b>Lamp Type:</b><span class="pl-1" id="source-lamptype"></span>
            </p>
            <p class="m-0">
              <b>CCT/Color:</b><span class="pl-1" id="source-cct"></span>
            </p>
            <p class="m-0">
              <b>Manufacturer:</b
              ><span class="pl-1" id="source-manufacturer"></span>
            </p>
            <p
              id="sourceModalDescriptionCollapse"
              class="m-0 pointer text-truncate"
              data-toggle="tooltip"
              title="Expand Description"
            >
              <b>Description:</b><span class="pl-1" id="source-info"></span>
            </p>
            <p><b>SPD:</b></p>
            <canvas class="source-spd" id="source-spd"></canvas>
          </div>
          <div id="source-modal-footer" class="modal-footer">
            <button
              id="source-add"
              class="btn btn-ms addSource py-1"
              type="button"
              data-dismiss="modal"
            >
              Add Source
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal"
      id="upload-sources-modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="upload-sources-modal-label"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="upload-sources-modal-label">
              Upload Custom Sources from JSON
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body text-center">
            <input
              autocomplete="off"
              type="file"
              accept=".json"
              id="upload-custom-sources-input"
              class="text-truncate w-100 mb-4"
              multiple
            />
            <div id="upload-custom-sources-errors"></div>
            <button class="btn btn-ms m-2 py-1" onClick="uploadCustomSources()">
              Upload Sources
            </button>
          </div>
        </div>
      </div>
    </div>

    <h6 class="alert alert-warning alert-dismissible fade show">
      <strong>Beta v2.0.0:</strong> the CS Calculator (2.0) is in beta. Please
      e-mail
      <span
        id="copy-email"
        class="pointer"
        data-toggle="tooltip"
        data-placement="bottom"
        data-html="true"
        title="Copy Email to Clipboard"
        ><strong>michael.morrison@mountsinai.org</strong></span
      >
      with any bugs, comments, concerns, or suggestions.
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </h6>

    <div id="content" class="container-fluid px-0 mt-4">
      <div class="opacity-0" id="logo-container">
        <div class="row mb-4 mx-0 d-flex">
          <div class="col text-center">
            <h1 class="mb-0">
              <a href="https://icahn.mssm.edu/research/light-health"
                ><img
                  id="LHRC_Logo"
                  src="img/LHRC_Logo.png"
                  width="200"
                  class="pr-3" /></a
              >CS Calculator (2.0)
            </h1>
          </div>
        </div>
      </div>
      <div id="main-card-row" class="row opacity-0 mx-0">
        <div class="col px-0">
          <div class="card mb-0 sm-mb-3 drop-shadow">
            <div
              class="
                main-card-header
                card-header
                border-bottom-0
                p-0
                position-relative
              "
            >
              <div class="container-fluid">
                <div class="row">
                  <div class="col-md-6 p-0">
                    <div id="stepChange1" class="step-title-container active rounded-tl">
                      <div class="btn-menu-left">
                        <span data-toggle="modal" data-target="#helpModal">
                          <button
                            class="btn btn-link btn-menu-btn"
                            type="button"
                            data-toggle="tooltip"
                            title="Toggle Quick Start Guide"
                          >
                            <i class="far fa-lg fa-question-circle"></i>
                          </button>
                        </span>
                      </div>
                      <h2
                        class="
                          step-title
                          font-size-1_5
                          py-2
                          text-center
                          mb-0
                          active
                        "
                      >
                        Sources
                      </h2>
                    </div>
                  </div>
                  <div class="col-md-6 p-0">
                    <div id="stepChange2" class="step-title-container disabled rounded-tr">
                      <div class="btn-menu">
                        <button
                          id="resultsDownload"
                          class="btn btn-link btn-menu-btn"
                          type="button"
                          data-toggle="tooltip"
                          title="Download All Calculations as JSON"
                        >
                          <i class="fas fa-lg fa-download"></i>
                        </button>
                      </div>
                      <h2
                        class="step-title font-size-1_5 py-2 text-center mb-0"
                      >
                        Calculations
                      </h2>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="stepContent1" class="card-body">
              <div class="container-fluid">
                <div class="row">
                  <div class="col-xl-6">
                    <div class="row mb-4">
                      <div class="col">
                        <div class="card">
                          <div
                            class="
                              card-header
                              border-bottom-0
                              p-0
                              position-relative
                              pointer
                            "
                          >
                            <h2
                              class="text-center"
                              data-toggle="collapse"
                              data-target="#filters"
                              aria-expanded="false"
                              aria-controls="filters"
                            >
                              Source List Filters
                            </h2>
                          </div>
                          <div class="collapse" id="filters">
                            <div class="card-body">
                              <div class="input-group mb-3">
                                <div
                                  class="input-group-prepend mw-175 text-center"
                                >
                                  <label
                                    class="
                                      input-group-text
                                      d-block
                                      mw-175
                                      text-center
                                    "
                                    for="manufacterer"
                                    ><b>Manufacturer:</b></label
                                  >
                                </div>
                                <select
                                  class="custom-select sortSource"
                                  id="manufacterer"
                                >
                                  <option selected>Any</option>
                                </select>
                              </div>
                              <div class="input-group mb-3">
                                <div class="input-group-prepend mw-175">
                                  <label
                                    class="input-group-text d-block mw-175"
                                    for="cct"
                                    ><b>CCT/Color:</b></label
                                  >
                                </div>
                                <select
                                  class="custom-select sortSource"
                                  id="cct"
                                >
                                  <option selected>Any</option>
                                </select>
                              </div>
                              <div class="input-group mb-3">
                                <div class="input-group-prepend mw-175">
                                  <label
                                    class="input-group-text d-block mw-175"
                                    for="lamp"
                                    ><b>Lamp:</b></label
                                  >
                                </div>
                                <select
                                  class="custom-select sortSource"
                                  id="lamp"
                                >
                                  <option selected>Any</option>
                                </select>
                              </div>
                              <div class="input-group mb-3">
                                <div class="input-group-prepend mw-175">
                                  <span
                                    class="input-group-text d-block mw-175"
                                    id="keyword"
                                    ><b>Keyword:</b></span
                                  >
                                </div>
                                <input
                                  id="searchSource"
                                  type="text"
                                  class="form-control sortSource"
                                  aria-label="Default"
                                  aria-describedby="keyword"
                                  placeholder="Search"
                                />
                              </div>
                              <div class="input-group">
                                <button
                                  class="w-100 btn btn-ms text-center"
                                  id="reset"
                                  type="button"
                                >
                                  Reset Filters
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="row mb-4">
                      <div class="col">
                        <div class="card">
                          <div
                            class="
                              card-header
                              border-bottom-0
                              p-0
                              position-relative
                              pointer
                            "
                          >
                            <div class="btn-menu">
                              <span
                                data-toggle="modal"
                                data-target="#upload-sources-modal"
                              >
                                <button
                                  class="btn btn-link btn-menu-btn"
                                  type="button"
                                  data-toggle="tooltip"
                                  title="Upload Custom Sources from JSON"
                                >
                                  <i class="fas fa-upload"></i>
                                </button>
                              </span>
                              <button
                                onClick="downloadCustomSources()"
                                class="btn btn-link btn-menu-btn"
                                type="button"
                                data-toggle="tooltip"
                                title="Download Custom Sources as JSON"
                              >
                                <i class="fas fa-download"></i>
                              </button>
                              <span
                                data-toggle="modal"
                                data-target="#custom-source-modal"
                              >
                                <button
                                  class="btn btn-link btn-menu-btn"
                                  type="button"
                                  data-toggle="tooltip"
                                  title="Add Custom Source"
                                >
                                  <i class="fas fa-plus"></i>
                                </button>
                              </span>
                            </div>
                            <h2
                              class="text-center"
                              data-toggle="collapse"
                              data-target="#source-list"
                              aria-expanded="true"
                              aria-controls="source-list"
                            >
                              Source List
                            </h2>
                          </div>
                          <div class="collapse show" id="source-list">
                            <div class="card-body p-0">
                              <ul
                                id="names-list"
                                class="
                                  list-group list-group-flush list-group-hover
                                  names-list
                                "
                              ></ul>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-xl-6">
                    <div class="row mb-4 sm-mb-5">
                      <div class="col">
                        <div class="card">
                          <div
                            class="
                              card-header
                              border-bottom-0
                              p-0
                              position-relative
                              pointer
                            "
                          >
                            <h2
                              class="text-center"
                              data-toggle="collapse"
                              data-target="#sources_"
                              aria-expanded="true"
                              aria-controls="sources_"
                            >
                              Selected Sources
                            </h2>
                          </div>
                          <div class="collapse show" id="sources_">
                            <div class="card-body" id="sources_-container">
                              <div
                                id="selected-sources_"
                                class="container-fluid"
                              >
                                <div class="no-sources row mb-1">
                                  <div
                                    class="col d-flex justify-content-center"
                                  >
                                    <div>No Selected Sources</div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <button
                      id="continue-to-calculations-button"
                      class="btn btn-ms text-center d-none w-100"
                      type="button"
                    >
                      Continue to Calculations
                      <i class="fas fa-sign-in-alt"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div id="stepContent2" class="card-body d-none">
              <div class="container-fluid">
                <div class="row">
                  <div class="col-xl-6">
                    <div class="row mb-4">
                      <div class="col">
                        <div class="card">
                          <div
                            class="
                              card-header
                              border-bottom-0
                              p-0
                              position-relative
                              pointer
                            "
                          >
                            <h2
                              class="text-center"
                              data-toggle="collapse"
                              data-target="#sources"
                              aria-expanded="true"
                              aria-controls="sources"
                            >
                              Selected Sources
                            </h2>
                          </div>
                          <div class="collapse show" id="sources">
                            <div class="card-body" id="sources-container">
                              <div
                                id="selected-sources"
                                class="container-fluid"
                              >
                                <div class="no-sources row mb-1">
                                  <div
                                    class="col d-flex justify-content-center"
                                  >
                                    <div>No Selected Sources</div>
                                  </div>
                                </div>
                              </div>
                              <div
                                id="lux-change-pending-container"
                                class="container-fluid d-none"
                              >
                                <div class="row">
                                  <div class="col text-center">
                                    <div class="font-size-_75 font-italic">
                                      <i class="ms-pink far fa-dot-circle"></i>
                                      changes pending - press enter to
                                      recalculate
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="row mb-4">
                      <div class="col">
                        <div class="card">
                          <div
                            class="
                              card-header
                              border-bottom-0
                              p-0
                              position-relative
                              pointer
                            "
                          >
                            <h2
                              class="text-center"
                              data-toggle="collapse"
                              data-target="#inputs"
                              aria-expanded="false"
                              aria-controls="inputs"
                            >
                              Input Variables
                            </h2>
                          </div>
                          <div class="collapse" id="inputs">
                            <div class="card-body inputs-container">
                              <div class="container-fluid">
                                <div class="row mb-2 input-variable-row">
                                  <div class="col py-2 input-value-pair">
                                    <div class="input-variable">
                                      Duration of Exposure (hrs):
                                    </div>
                                    <div class="input-group">
                                      <select
                                        class="custom-select"
                                        id="time_sel"
                                      >
                                        <option value="0.5">0.5</option>
                                        <option value="0.75">0.75</option>
                                        <option
                                          value="1.00"
                                          selected="selected"
                                        >
                                          1 (default)
                                        </option>
                                        <option value="1.25">1.25</option>
                                        <option value="1.50">1.5</option>
                                        <option value="1.75">1.75</option>
                                        <option value="2.00">2</option>
                                        <option value="2.25">2.25</option>
                                        <option value="2.50">2.5</option>
                                        <option value="2.75">2.75</option>
                                        <option value="3.00">3</option>
                                      </select>
                                    </div>
                                  </div>
                                </div>
                                <div class="row mb-2 input-variable-row">
                                  <div class="col py-2 input-value-pair">
                                    <div class="input-variable">
                                      Distribution Scalar:
                                    </div>
                                    <select
                                      class="custom-select"
                                      id="scalar_sel"
                                    >
                                      <option value="0.5">0.5</option>
                                      <option value="0.6">0.6</option>
                                      <option value="0.7">0.7</option>
                                      <option value="0.8">0.8</option>
                                      <option value="0.9">0.9</option>
                                      <option value="1.0" selected="selected">
                                        1 (default)
                                      </option>
                                      <option value="1.1">1.1</option>
                                      <option value="1.2">1.2</option>
                                      <option value="1.3">1.3</option>
                                      <option value="1.4">1.4</option>
                                      <option value="1.5">1.5</option>
                                      <option value="1.6">1.6</option>
                                      <option value="1.7">1.7</option>
                                      <option value="1.8">1.8</option>
                                      <option value="1.9">1.9</option>
                                      <option value="2.0">2</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mb-4">
                      <div class="col">
                        <div class="card">
                          <div
                            class="
                              card-header
                              border-bottom-0
                              p-0
                              position-relative
                              pointer
                            "
                          >
                            <div class="btn-menu">
                              <button
                                id="download-metrics"
                                class="btn btn-link btn-menu-btn"
                                type="button"
                                data-toggle="tooltip"
                                data-html="true"
                                title="Download Metrics as Text"
                              >
                                <i class="fas fa-download"></i>
                              </button>
                            </div>

                            <h2
                              class="text-center"
                              data-toggle="collapse"
                              data-target="#measurements"
                              aria-expanded="true"
                              aria-controls="measurements"
                            >
                              Metrics
                            </h2>
                          </div>
                          <div class="collapse show" id="measurements">
                            <div class="card-body measurements-container">
                              
                              <div class="container-fluid">
                                <div class="row">
                                  <div class="col text-center">
                                    <p class="text-center">
                                      Click
                                      <a href="model.html" target="_blank">here</a> to
                                      see notes on updated CS Model
                                    </p>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">CS:</div>
                                    <div id="resultCS" class="value">NaN</div>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">
                                      CL<sub>A</sub> 2.0:
                                    </div>
                                    <div id="resultCLA" class="value">NaN</div>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">
                                      Illuminance (lx):
                                    </div>
                                    <div id="resultIll" class="value">0</div>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">
                                      Irradiance (W&middot;m<sup>-2</sup>):
                                    </div>
                                    <div id="resultIrr" class="value">
                                      0.0000e+0
                                    </div>
                                  </div>
                                </div>

                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">
                                      Photon Flux
                                      (Photons&middot;m<sup>-2</sup>&middot;s<sup>-1</sup>):
                                    </div>
                                    <div id="resultPf" class="value">
                                      0.0000e+0
                                    </div>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">
                                      Equivalent Melanopic Lux (EML):
                                    </div>
                                    <div id="resultEML" class="value">0</div>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">CCT:</div>
                                    <div id="resultCCT" class="value">NaN</div>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">
                                      D<sub>uv</sub>:
                                    </div>
                                    <div id="resultDuv" class="value">NaN</div>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">CRI:</div>
                                    <div id="resultCRI" class="value">NaN</div>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">GAI:</div>
                                    <div id="resultGAI" class="value">NaN</div>
                                  </div>
                                </div>
                                <div class="row mb-1 zebra-row">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                  >
                                    <div class="w-50 text-truncate">
                                      Chromaticity Coordinates (x, y):
                                    </div>
                                    <div id="resultXY" class="value">
                                      NaN, NaN
                                    </div>
                                  </div>
                                </div>
                                <div
                                  class="row mb-1 zebra-row pointer"
                                  id="CIE_alpha_container"
                                  data-toggle="collapse"
                                  href="#CIE_alpha"
                                  aria-expanded="false"
                                  aria-controls="CIE_alpha"
                                >
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-between
                                      zebra-entry
                                    "
                                    data-toggle="tooltip"
                                    title="Toggle CIE  	&alpha;-opic Irradiances"
                                  >
                                    <div>
                                      <i
                                        class="
                                          cie-alpha-caret
                                          ms-purple
                                          fas
                                          fa-caret-right
                                        "
                                      ></i>
                                      CIE &alpha;-opic Irradiances
                                    </div>
                                  </div>
                                </div>
                                <div class="collapse" id="CIE_alpha">
                                  <div class="row mb-1 zebra-row">
                                    <div
                                      class="
                                        col
                                        d-flex
                                        justify-content-between
                                        zebra-entry
                                      "
                                    >
                                      <div class="measurement pl-4">
                                        CIE S-cone Irradiance
                                        (W&middot;m<sup>-2</sup>):
                                      </div>
                                      <div id="resultCIE_S" class="value">
                                        0.0000e+0
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row mb-1 zebra-row">
                                    <div
                                      class="
                                        col
                                        d-flex
                                        justify-content-between
                                        zebra-entry
                                      "
                                    >
                                      <div class="measurement pl-4">
                                        CIE M-cone Irradiance
                                        (W&middot;m<sup>-2</sup>):
                                      </div>
                                      <div id="resultCIE_M" class="value">
                                        0.0000e+0
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row mb-1 zebra-row">
                                    <div
                                      class="
                                        col
                                        d-flex
                                        justify-content-between
                                        zebra-entry
                                      "
                                    >
                                      <div class="measurement pl-4">
                                        CIE L-cone Irradiance
                                        (W&middot;m<sup>-2</sup>):
                                      </div>
                                      <div id="resultCIE_L" class="value">
                                        0.0000e+0
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row mb-1 zebra-row">
                                    <div
                                      class="
                                        col
                                        d-flex
                                        justify-content-between
                                        zebra-entry
                                      "
                                    >
                                      <div class="measurement pl-4">
                                        CIE Rhodopic Irradiance
                                        (W&middot;m<sup>-2</sup>):
                                      </div>
                                      <div id="resultCIE_Rhod" class="value">
                                        0.0000e+0
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row mb-1 zebra-row">
                                    <div
                                      class="
                                        col
                                        d-flex
                                        justify-content-between
                                        zebra-entry
                                      "
                                    >
                                      <div class="measurement pl-4">
                                        CIE Melanopic Irradiance
                                        (W&middot;m<sup>-2</sup>):
                                      </div>
                                      <div id="resultCIE_Mela" class="value">
                                        0.0000e+0
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="row mb-4">
                      <div class="col">
                        <div class="card">
                          <div
                            class="
                              card-header
                              border-bottom-0
                              p-0
                              position-relative
                              pointer
                            "
                          >
                            <div class="btn-menu">
                              <div class="dropleft">
                                <span
                                  id="downloadCombinedSPDDropdown"
                                  data-toggle="dropdown"
                                  aria-haspopup="true"
                                  aria-expanded="false"
                                >
                                  <button
                                    id="download-spds"
                                    class="btn btn-link btn-menu-btn"
                                    type="button"
                                    data-toggle="tooltip"
                                    title="Download Combined SPDs as Text"
                                  >
                                    <i class="fas fa-download"></i>
                                  </button>
                                </span>
                                <div
                                  class="dropdown-menu"
                                  aria-labelledby="downloadCombinedSPDDropdown"
                                >
                                  <a
                                    class="dropdown-item"
                                    id="download-relative-spd"
                                    >Download Relative SPD</a
                                  >
                                  <a
                                    class="dropdown-item"
                                    id="download-absolute-spd"
                                    >Download Absolute SPD</a
                                  >
                                </div>
                              </div>
                            </div>
                            <h2
                              class="text-center"
                              data-toggle="collapse"
                              data-target="#spds"
                              aria-expanded="false"
                              aria-controls="spds"
                            >
                              Combined Source SPD's
                            </h2>
                          </div>
                          <div class="collapse" id="spds">
                            <div class="card-body">
                              <div class="container-fluid">
                                <div class="row mb-4">
                                  <div
                                    class="
                                      col
                                      d-flex
                                      justify-content-around
                                      text-center
                                    "
                                  >
                                    <button
                                      id="RelSpdBtn"
                                      type="button"
                                      class="
                                        flex-fill
                                        spd-button
                                        m-2
                                        py-1
                                        btn btn-ms
                                        active
                                      "
                                    >
                                      Relative
                                    </button>
                                    <button
                                      id="AbsSpdBtn"
                                      type="button"
                                      class="
                                        flex-fill
                                        spd-button
                                        m-2
                                        py-1
                                        btn btn-ms
                                      "
                                    >
                                      Absolute
                                    </button>
                                  </div>
                                </div>
                                <div class="row mb-2">
                                  <div class="col">
                                    <div class="container-fluid">
                                      <div class="row">
                                        <div
                                          class="
                                            col
                                            d-flex
                                            justify-content-around
                                          "
                                        >
                                          <h2>λ (nm)</h2>
                                          <h2>Value</h2>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="row mb-4 mh-50">
                                  <div class="col">
                                    <div
                                      id="RelSpdContainer"
                                      class="container-fluid spd-container"
                                    ></div>

                                    <div
                                      id="AbsSpdContainer"
                                      class="
                                        container-fluid
                                        spd-container
                                        d-none
                                      "
                                    ></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xl-6">
                    <div class="row mb-4">
                      <div class="col">
                        <div class="card">
                          <div
                            class="
                              card-header
                              border-bottom-0
                              p-0
                              position-relative
                              pointer
                            "
                          >
                            <h2
                              class="text-center"
                              data-toggle="collapse"
                              data-target="#charts"
                              aria-expanded="true"
                              aria-controls="charts"
                            >
                              Charts
                            </h2>
                          </div>
                          <div class="collapse show" id="charts">
                            <div class="card-body">
                              <div class="container-fluid">
                                <div class="row mb-4">
                                  <div class="col d-flex flex-wrap text-center">
                                    <button
                                      type="button"
                                      id="plotBtnSPD"
                                      class="
                                        flex-fill
                                        plot-btn
                                        btn btn-ms
                                        m-2
                                        py-1
                                        active
                                      "
                                    >
                                      SPD
                                    </button>
                                    <button
                                      type="button"
                                      id="plotBtnChromaticity"
                                      class="
                                        flex-fill
                                        plot-btn
                                        btn btn-ms
                                        m-2
                                        py-1
                                      "
                                    >
                                      Chromaticity
                                    </button>
                                    <button
                                      type="button"
                                      id="plotBtnCRM"
                                      class="
                                        flex-fill
                                        plot-btn
                                        btn btn-ms
                                        m-2
                                        py-1
                                      "
                                    >
                                      Color Rendering
                                    </button>
                                  </div>
                                </div>
                                <div class="row">
                                  <div
                                    id="PlotAreaSPD"
                                    class="plot-area col d-block"
                                  >
                                    <h3 class="text-center">
                                      Spectral Power Distribution
                                    </h3>
                                    <canvas id="spdPlot"></canvas>
                                    <div
                                      id="spdLegend"
                                      class="chart-legend"
                                    ></div>
                                  </div>

                                  <div
                                    id="PlotAreaChromaticity"
                                    class="plot-area col d-none"
                                  >
                                    <h3 class="text-center">Chromaticity</h3>
                                    <canvas id="chromaticityPlot"></canvas>
                                    <div
                                      id="chromaticityLegend"
                                      class="chart-legend"
                                    ></div>
                                  </div>

                                  <div
                                    id="PlotAreaCRM"
                                    class="plot-area col d-none"
                                  >
                                    <h3 class="text-center">
                                      Color Rendering Metrics
                                    </h3>
                                    <canvas id="crmPlot"></canvas>
                                    <div
                                      id="crmLegend"
                                      class="chart-legend"
                                    ></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="
                card-footer
                position-relative
                font-size-1
                text-muted
                page-footer
              "
            >
              <p class="text-center m-0">
                <a href="https://icahn.mssm.edu/research/light-health">
                  <img
                    src="img/MS_Logo.png"
                    width="50"
                    alt="Mount Sinai Logo"
                  />
                </a>
                Copyright ©
                <script>
                  document.write(new Date().getFullYear());
                </script>
                Icahn School of Medicine at Mount Sinai, LHRC. All Rights
                Reserved.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <a id="jsondownload" class="hidden"></a>
    <a id="metrics-download" class="hidden"></a>
    <a id="spd-download" class="hidden"></a>
    <a id="custom-sources-download" class="hidden"></a>
  </body>
</html>
